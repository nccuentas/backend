datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id       Int    @id @default(autoincrement())
  email    String @unique
  password String
}

model StreamingAccount {
  id                Int       @id @default(autoincrement())
  nombreServicio    String
  correoAcceso      String
  contrasenaAcceso  String
  fechaAdquisicion  DateTime?
  fechaExpiracion   DateTime?
  notasAdicionales  String?

  perfiles Profile[]
}

model Profile {
  id               Int      @id @default(autoincrement())
  nombrePerfil     String?
  tienePin         Boolean?
  pin              String?
  asignadoACliente String?
  estadoPerfil     EstadoPerfil @default(Libre)

  streamingAccountId Int
  streamingAccount   StreamingAccount @relation(fields: [streamingAccountId], references: [id])
}

enum EstadoPerfil {
  Libre
  Ocupado
  Mantenimiento
}
